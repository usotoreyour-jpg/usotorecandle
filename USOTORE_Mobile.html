<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>USOTORE Candlestick</title>
  <style>
    body { margin: 0; background: #000; color: white; font-family: "Segoe UI", sans-serif; }
    #chartContainer { width: 100%; height: 400px; }
    #panel { padding: 12px; background: #111; }
    button { width: 49%; padding: 15px; margin-top: 10px; border: none; cursor: pointer; }
    .btn-hi { background: #0fa958; }
    .btn-lo { background: #db2c2c; }
  </style>
</head>
<body>

<div id="chartContainer"></div>

<div id="panel">
  <button class="btn-hi" onclick="placeOrder('HIGH')">ハイ (HIGH)</button>
  <button class="btn-lo" onclick="placeOrder('LOW')">ロー (LOW)</button>
</div>

<!-- Lightweight Charts -->
<script src="https://unpkg.com/lightweight-charts@4.0.0/dist/lightweight-charts.standalone.production.js"></script>

<script>
// チャート生成
const chart = LightweightCharts.createChart(document.getElementById('chartContainer'), {
    layout: { background: { color: '#000' }, textColor: '#fff' },
    grid: { vertLines: { color: 'rgba(255,255,255,0.1)' }, horzLines: { color: 'rgba(255,255,255,0.1)' } },
    timeScale: { timeVisible: true, secondsVisible: true },
});

// ローソク足シリーズ
const candleSeries = chart.addCandlestickSeries();

// テストデータの生成
const now = Math.floor(Date.now() / 1000);
const data = [];
for (let i = 0; i < 50; i++) {
  const open = 100 + Math.random() * 2;
  const close = open + (Math.random() - 0.5) * 3;
  const high = Math.max(open, close) + Math.random() * 2;
  const low = Math.min(open, close) - Math.random() * 2;
  data.push({ time: now + i * 60, open, high, low, close });
}
candleSeries.setData(data);

// 仮の注文処理
function placeOrder(type) {
  alert(`${type} の仮注文を行いました`);
}
</script>

</body>
</html>

